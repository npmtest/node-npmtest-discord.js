<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-discord.js/node_modules/discord.js/src/client/Client.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-discord.js">npmtest-discord.js (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-discord.js/node_modules/discord.js/src/client/Client.js</span></h1>
    <h2>
        
        Statements: <span class="metric">2.68% <small>(4 / 149)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 90)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 25)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">3.03% <small>(4 / 132)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-discord.js/node_modules/discord.js/src/client/</a> &#187; Client.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480</td><td class="line-coverage"><span class="cline-any cline-yes">30</span>
<span class="cline-any cline-yes">30</span>
<span class="cline-any cline-yes">30</span>
<span class="cline-any cline-yes">30</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">const EventEmitter = require('events').EventEmitter;
const mergeDefault = require('../util/MergeDefault');
const Constants = require('../util/Constants');
const RESTManager = require('./rest/RESTManager');
<span class="cstat-no" title="statement not covered" >const ClientDataManager = require('./ClientDataManager');</span>
<span class="cstat-no" title="statement not covered" >const ClientManager = require('./ClientManager');</span>
<span class="cstat-no" title="statement not covered" >const ClientDataResolver = require('./ClientDataResolver');</span>
<span class="cstat-no" title="statement not covered" >const ClientVoiceManager = require('./voice/ClientVoiceManager');</span>
<span class="cstat-no" title="statement not covered" >const WebSocketManager = require('./websocket/WebSocketManager');</span>
<span class="cstat-no" title="statement not covered" >const ActionsManager = require('./actions/ActionsManager');</span>
<span class="cstat-no" title="statement not covered" >const Collection = require('../util/Collection');</span>
<span class="cstat-no" title="statement not covered" >const Presence = require('../structures/Presence').Presence;</span>
<span class="cstat-no" title="statement not covered" >const ShardClientUtil = require('../sharding/ShardClientUtil');</span>
&nbsp;
/**
 * The starting point for making a Discord Bot.
 * @extends {EventEmitter}
 */
class Client extends EventEmitter {
  /**
   * @param {ClientOptions} [options] Options for the client
   */
  constructor<span class="fstat-no" title="function not covered" >(options = {}) {</span>
<span class="cstat-no" title="statement not covered" >    super();</span>
&nbsp;
    // Obtain shard details from environment
<span class="cstat-no" title="statement not covered" >    if (!options.shardId &amp;&amp; 'SHARD_ID' in process.env) <span class="cstat-no" title="statement not covered" >options.shardId = Number(process.env.SHARD_ID);</span></span>
<span class="cstat-no" title="statement not covered" >    if (!options.shardCount &amp;&amp; 'SHARD_COUNT' in process.env) <span class="cstat-no" title="statement not covered" >options.shardCount = Number(process.env.SHARD_COUNT);</span></span>
&nbsp;
    /**
     * The options the client was instantiated with
     * @type {ClientOptions}
     */
<span class="cstat-no" title="statement not covered" >    this.options = mergeDefault(Constants.DefaultOptions, options);</span>
<span class="cstat-no" title="statement not covered" >    this._validateOptions();</span>
&nbsp;
    /**
     * The REST manager of the client
     * @type {RESTManager}
     * @private
     */
<span class="cstat-no" title="statement not covered" >    this.rest = new RESTManager(this);</span>
&nbsp;
    /**
     * The data manager of the Client
     * @type {ClientDataManager}
     * @private
     */
<span class="cstat-no" title="statement not covered" >    this.dataManager = new ClientDataManager(this);</span>
&nbsp;
    /**
     * The manager of the Client
     * @type {ClientManager}
     * @private
     */
<span class="cstat-no" title="statement not covered" >    this.manager = new ClientManager(this);</span>
&nbsp;
    /**
     * The WebSocket Manager of the Client
     * @type {WebSocketManager}
     * @private
     */
<span class="cstat-no" title="statement not covered" >    this.ws = new WebSocketManager(this);</span>
&nbsp;
    /**
     * The Data Resolver of the Client
     * @type {ClientDataResolver}
     * @private
     */
<span class="cstat-no" title="statement not covered" >    this.resolver = new ClientDataResolver(this);</span>
&nbsp;
    /**
     * The Action Manager of the Client
     * @type {ActionsManager}
     * @private
     */
<span class="cstat-no" title="statement not covered" >    this.actions = new ActionsManager(this);</span>
&nbsp;
    /**
     * The Voice Manager of the Client (`null` in browsers)
     * @type {?ClientVoiceManager}
     * @private
     */
<span class="cstat-no" title="statement not covered" >    this.voice = !this.browser ? new ClientVoiceManager(this) : null;</span>
&nbsp;
    /**
     * The shard helpers for the client (only if the process was spawned as a child, such as from a ShardingManager)
     * @type {?ShardClientUtil}
     */
<span class="cstat-no" title="statement not covered" >    this.shard = process.send ? ShardClientUtil.singleton(this) : null;</span>
&nbsp;
    /**
     * A collection of the Client's stored users
     * @type {Collection&lt;string, User&gt;}
     */
<span class="cstat-no" title="statement not covered" >    this.users = new Collection();</span>
&nbsp;
    /**
     * A collection of the Client's stored guilds
     * @type {Collection&lt;string, Guild&gt;}
     */
<span class="cstat-no" title="statement not covered" >    this.guilds = new Collection();</span>
&nbsp;
    /**
     * A collection of the Client's stored channels
     * @type {Collection&lt;string, Channel&gt;}
     */
<span class="cstat-no" title="statement not covered" >    this.channels = new Collection();</span>
&nbsp;
    /**
     * A collection of presences for friends of the logged in user.
     * &lt;warn&gt;This is only filled when using a user account.&lt;/warn&gt;
     * @type {Collection&lt;string, Presence&gt;}
     */
<span class="cstat-no" title="statement not covered" >    this.presences = new Collection();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (!this.token &amp;&amp; 'CLIENT_TOKEN' in process.env) {</span>
      /**
       * The authorization token for the logged in user/bot.
       * @type {?string}
       */
<span class="cstat-no" title="statement not covered" >      this.token = process.env.CLIENT_TOKEN;</span>
    } else {
<span class="cstat-no" title="statement not covered" >      this.token = null;</span>
    }
&nbsp;
    /**
     * The ClientUser representing the logged in Client
     * @type {?ClientUser}
     */
<span class="cstat-no" title="statement not covered" >    this.user = null;</span>
&nbsp;
    /**
     * The date at which the Client was regarded as being in the `READY` state.
     * @type {?Date}
     */
<span class="cstat-no" title="statement not covered" >    this.readyAt = null;</span>
&nbsp;
    /**
     * The previous heartbeat pings of the websocket (most recent first, limited to three elements)
     * @type {number[]}
     */
<span class="cstat-no" title="statement not covered" >    this.pings = [];</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    this._pingTimestamp = 0;</span>
<span class="cstat-no" title="statement not covered" >    this._timeouts = new Set();</span>
<span class="cstat-no" title="statement not covered" >    this._intervals = new Set();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (this.options.messageSweepInterval &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >      this.setInterval(this.sweepMessages.bind(this), this.options.messageSweepInterval * 1000);</span>
    }
  }
&nbsp;
  /**
   * The status for the logged in Client.
   * @type {?number}
   * @readonly
   */
  get status<span class="fstat-no" title="function not covered" >() {</span>
<span class="cstat-no" title="statement not covered" >    return this.ws.status;</span>
  }
&nbsp;
  /**
   * The uptime for the logged in Client.
   * @type {?number}
   * @readonly
   */
  get uptime<span class="fstat-no" title="function not covered" >() {</span>
<span class="cstat-no" title="statement not covered" >    return this.readyAt ? Date.now() - this.readyAt : null;</span>
  }
&nbsp;
  /**
   * The average heartbeat ping of the websocket
   * @type {number}
   * @readonly
   */
  get ping<span class="fstat-no" title="function not covered" >() {</span>
<span class="cstat-no" title="statement not covered" >    return this.pings.reduce((prev, p) =&gt; <span class="cstat-no" title="statement not covered" >prev + p,</span> 0) / this.pings.length;</span>
  }
&nbsp;
  /**
   * Returns a collection, mapping guild ID to voice connections.
   * @type {Collection&lt;string, VoiceConnection&gt;}
   * @readonly
   */
  get voiceConnections<span class="fstat-no" title="function not covered" >() {</span>
<span class="cstat-no" title="statement not covered" >    if (this.browser) <span class="cstat-no" title="statement not covered" >return new Collection();</span></span>
<span class="cstat-no" title="statement not covered" >    return this.voice.connections;</span>
  }
&nbsp;
  /**
   * The emojis that the client can use. Mapped by emoji ID.
   * @type {Collection&lt;string, Emoji&gt;}
   * @readonly
   */
  get emojis<span class="fstat-no" title="function not covered" >() {</span>
<span class="cstat-no" title="statement not covered" >    const emojis = new Collection();</span>
<span class="cstat-no" title="statement not covered" >    for (const guild of this.guilds.values()) {</span>
<span class="cstat-no" title="statement not covered" >      for (const emoji of guild.emojis.values()) <span class="cstat-no" title="statement not covered" >emojis.set(emoji.id, emoji);</span></span>
    }
<span class="cstat-no" title="statement not covered" >    return emojis;</span>
  }
&nbsp;
  /**
   * The timestamp that the client was last ready at
   * @type {?number}
   * @readonly
   */
  get readyTimestamp<span class="fstat-no" title="function not covered" >() {</span>
<span class="cstat-no" title="statement not covered" >    return this.readyAt ? this.readyAt.getTime() : null;</span>
  }
&nbsp;
  /**
   * Whether the client is in a browser environment
   * @type {boolean}
   * @readonly
   */
  get browser<span class="fstat-no" title="function not covered" >() {</span>
<span class="cstat-no" title="statement not covered" >    return typeof window !== 'undefined';</span>
  }
&nbsp;
  /**
   * Logs the client in. If successful, resolves with the account's token. &lt;warn&gt;If you're making a bot, it's
   * much better to use a bot account rather than a user account.
   * Bot accounts have higher rate limits and have access to some features user accounts don't have. User bots
   * that are making a lot of API requests can even be banned.&lt;/warn&gt;
   * @param  {string} token The token used for the account.
   * @returns {Promise&lt;string&gt;}
   * @example
   * // log the client in using a token
   * const token = 'my token';
   * client.login(token);
   * @example
   * // log the client in using email and password
   * const email = 'user@email.com';
   * const password = 'supersecret123';
   * client.login(email, password);
   */
  login<span class="fstat-no" title="function not covered" >(token) {</span>
<span class="cstat-no" title="statement not covered" >    return this.rest.methods.login(token);</span>
  }
&nbsp;
  /**
   * Destroys the client and logs out.
   * @returns {Promise}
   */
  destroy<span class="fstat-no" title="function not covered" >() {</span>
<span class="cstat-no" title="statement not covered" >    for (const t of this._timeouts) <span class="cstat-no" title="statement not covered" >clearTimeout(t);</span></span>
<span class="cstat-no" title="statement not covered" >    for (const i of this._intervals) <span class="cstat-no" title="statement not covered" >clearInterval(i);</span></span>
<span class="cstat-no" title="statement not covered" >    this._timeouts.clear();</span>
<span class="cstat-no" title="statement not covered" >    this._intervals.clear();</span>
<span class="cstat-no" title="statement not covered" >    return this.manager.destroy();</span>
  }
&nbsp;
  /**
   * This shouldn't really be necessary to most developers as it is automatically invoked every 30 seconds, however
   * if you wish to force a sync of guild data, you can use this.
   * &lt;warn&gt;This is only available when using a user account.&lt;/warn&gt;
   * @param {Guild[]|Collection&lt;string, Guild&gt;} [guilds=this.guilds] An array or collection of guilds to sync
   */
  syncGuilds<span class="fstat-no" title="function not covered" >(guilds = this.guilds) {</span>
<span class="cstat-no" title="statement not covered" >    if (this.user.bot) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >    this.ws.send({</span>
      op: 12,
      d: guilds instanceof Collection ? guilds.keyArray() : guilds.map(g =&gt; <span class="cstat-no" title="statement not covered" >g.id)</span>,
    });
  }
&nbsp;
  /**
   * Caches a user, or obtains it from the cache if it's already cached.
   * &lt;warn&gt;This is only available when using a bot account.&lt;/warn&gt;
   * @param {string} id The ID of the user to obtain
   * @returns {Promise&lt;User&gt;}
   */
  fetchUser<span class="fstat-no" title="function not covered" >(id) {</span>
<span class="cstat-no" title="statement not covered" >    if (this.users.has(id)) <span class="cstat-no" title="statement not covered" >return Promise.resolve(this.users.get(id));</span></span>
<span class="cstat-no" title="statement not covered" >    return this.rest.methods.getUser(id);</span>
  }
&nbsp;
  /**
   * Fetches an invite object from an invite code.
   * @param {InviteResolvable} invite An invite code or URL
   * @returns {Promise&lt;Invite&gt;}
   */
  fetchInvite<span class="fstat-no" title="function not covered" >(invite) {</span>
<span class="cstat-no" title="statement not covered" >    const code = this.resolver.resolveInviteCode(invite);</span>
<span class="cstat-no" title="statement not covered" >    return this.rest.methods.getInvite(code);</span>
  }
&nbsp;
  /**
   * Fetch a webhook by ID.
   * @param {string} id ID of the webhook
   * @param {string} [token] Token for the webhook
   * @returns {Promise&lt;Webhook&gt;}
   */
  fetchWebhook<span class="fstat-no" title="function not covered" >(id, token) {</span>
<span class="cstat-no" title="statement not covered" >    return this.rest.methods.getWebhook(id, token);</span>
  }
&nbsp;
  /**
   * Sweeps all channels' messages and removes the ones older than the max message lifetime.
   * If the message has been edited, the time of the edit is used rather than the time of the original message.
   * @param {number} [lifetime=this.options.messageCacheLifetime] Messages that are older than this (in seconds)
   * will be removed from the caches. The default is based on the client's `messageCacheLifetime` option.
   * @returns {number} Amount of messages that were removed from the caches,
   * or -1 if the message cache lifetime is unlimited
   */
  sweepMessages<span class="fstat-no" title="function not covered" >(lifetime = this.options.messageCacheLifetime) {</span>
<span class="cstat-no" title="statement not covered" >    if (typeof lifetime !== 'number' || isNaN(lifetime)) <span class="cstat-no" title="statement not covered" >throw new TypeError('The lifetime must be a number.');</span></span>
<span class="cstat-no" title="statement not covered" >    if (lifetime &lt;= 0) {</span>
<span class="cstat-no" title="statement not covered" >      this.emit('debug', 'Didn\'t sweep messages - lifetime is unlimited');</span>
<span class="cstat-no" title="statement not covered" >      return -1;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    const lifetimeMs = lifetime * 1000;</span>
<span class="cstat-no" title="statement not covered" >    const now = Date.now();</span>
<span class="cstat-no" title="statement not covered" >    let channels = 0;</span>
<span class="cstat-no" title="statement not covered" >    let messages = 0;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    for (const channel of this.channels.values()) {</span>
<span class="cstat-no" title="statement not covered" >      if (!channel.messages) <span class="cstat-no" title="statement not covered" >continue;</span></span>
<span class="cstat-no" title="statement not covered" >      channels++;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      for (const message of channel.messages.values()) {</span>
<span class="cstat-no" title="statement not covered" >        if (now - (message.editedTimestamp || message.createdTimestamp) &gt; lifetimeMs) {</span>
<span class="cstat-no" title="statement not covered" >          channel.messages.delete(message.id);</span>
<span class="cstat-no" title="statement not covered" >          messages++;</span>
        }
      }
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    this.emit('debug', `Swept ${messages} messages older than ${lifetime} seconds in ${channels} text-based channels`);</span>
<span class="cstat-no" title="statement not covered" >    return messages;</span>
  }
&nbsp;
  /**
   * Gets the bot's OAuth2 application.
   * &lt;warn&gt;This is only available when using a bot account.&lt;/warn&gt;
   * @returns {Promise&lt;ClientOAuth2Application&gt;}
   */
  fetchApplication<span class="fstat-no" title="function not covered" >() {</span>
<span class="cstat-no" title="statement not covered" >    if (!this.user.bot) <span class="cstat-no" title="statement not covered" >throw new Error(Constants.Errors.NO_BOT_ACCOUNT);</span></span>
<span class="cstat-no" title="statement not covered" >    return this.rest.methods.getMyApplication();</span>
  }
&nbsp;
  /**
   * Generate an invite link for your bot
   * @param {PermissionResolvable[]|number} [permissions] An array of permissions to request
   * @returns {Promise&lt;string&gt;} The invite link
   * @example
   * client.generateInvite(['SEND_MESSAGES', 'MANAGE_GUILD', 'MENTION_EVERYONE'])
   *   .then(link =&gt; {
   *     console.log(`Generated bot invite link: ${link}`);
   *   });
   */
  generateInvite<span class="fstat-no" title="function not covered" >(permissions) {</span>
<span class="cstat-no" title="statement not covered" >    if (permissions) {</span>
<span class="cstat-no" title="statement not covered" >      if (permissions instanceof Array) <span class="cstat-no" title="statement not covered" >permissions = this.resolver.resolvePermissions(permissions);</span></span>
    } else {
<span class="cstat-no" title="statement not covered" >      permissions = 0;</span>
    }
<span class="cstat-no" title="statement not covered" >    return this.fetchApplication().then(application =&gt;</span>
<span class="cstat-no" title="statement not covered" >      `https://discordapp.com/oauth2/authorize?client_id=${application.id}&amp;permissions=${permissions}&amp;scope=bot`</span>
    );
  }
&nbsp;
  /**
   * Sets a timeout that will be automatically cancelled if the client is destroyed.
   * @param {Function} fn Function to execute
   * @param {number} delay Time to wait before executing (in milliseconds)
   * @param {...*} args Arguments for the function
   * @returns {Timeout}
   */
  setTimeout<span class="fstat-no" title="function not covered" >(fn, delay, ...args) {</span>
<span class="cstat-no" title="statement not covered" >    const timeout = setTimeout(() =&gt; {</span>
<span class="cstat-no" title="statement not covered" >      fn();</span>
<span class="cstat-no" title="statement not covered" >      this._timeouts.delete(timeout);</span>
    }, delay, ...args);
<span class="cstat-no" title="statement not covered" >    this._timeouts.add(timeout);</span>
<span class="cstat-no" title="statement not covered" >    return timeout;</span>
  }
&nbsp;
  /**
   * Clears a timeout
   * @param {Timeout} timeout Timeout to cancel
   */
  clearTimeout<span class="fstat-no" title="function not covered" >(timeout) {</span>
<span class="cstat-no" title="statement not covered" >    clearTimeout(timeout);</span>
<span class="cstat-no" title="statement not covered" >    this._timeouts.delete(timeout);</span>
  }
&nbsp;
  /**
   * Sets an interval that will be automatically cancelled if the client is destroyed.
   * @param {Function} fn Function to execute
   * @param {number} delay Time to wait before executing (in milliseconds)
   * @param {...*} args Arguments for the function
   * @returns {Timeout}
   */
  setInterval<span class="fstat-no" title="function not covered" >(fn, delay, ...args) {</span>
<span class="cstat-no" title="statement not covered" >    const interval = setInterval(fn, delay, ...args);</span>
<span class="cstat-no" title="statement not covered" >    this._intervals.add(interval);</span>
<span class="cstat-no" title="statement not covered" >    return interval;</span>
  }
&nbsp;
  /**
   * Clears an interval
   * @param {Timeout} interval Interval to cancel
   */
  clearInterval<span class="fstat-no" title="function not covered" >(interval) {</span>
<span class="cstat-no" title="statement not covered" >    clearInterval(interval);</span>
<span class="cstat-no" title="statement not covered" >    this._intervals.delete(interval);</span>
  }
&nbsp;
  _pong<span class="fstat-no" title="function not covered" >(startTime) {</span>
<span class="cstat-no" title="statement not covered" >    this.pings.unshift(Date.now() - startTime);</span>
<span class="cstat-no" title="statement not covered" >    if (this.pings.length &gt; 3) <span class="cstat-no" title="statement not covered" >this.pings.length = 3;</span></span>
<span class="cstat-no" title="statement not covered" >    this.ws.lastHeartbeatAck = true;</span>
  }
&nbsp;
  _setPresence<span class="fstat-no" title="function not covered" >(id, presence) {</span>
<span class="cstat-no" title="statement not covered" >    if (this.presences.get(id)) {</span>
<span class="cstat-no" title="statement not covered" >      this.presences.get(id).update(presence);</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
<span class="cstat-no" title="statement not covered" >    this.presences.set(id, new Presence(presence));</span>
  }
&nbsp;
  _eval<span class="fstat-no" title="function not covered" >(script) {</span>
<span class="cstat-no" title="statement not covered" >    return eval(script);</span>
  }
&nbsp;
  _validateOptions<span class="fstat-no" title="function not covered" >(options = this.options) {</span>
<span class="cstat-no" title="statement not covered" >    if (typeof options.shardCount !== 'number' || isNaN(options.shardCount)) {</span>
<span class="cstat-no" title="statement not covered" >      throw new TypeError('The shardCount option must be a number.');</span>
    }
<span class="cstat-no" title="statement not covered" >    if (typeof options.shardId !== 'number' || isNaN(options.shardId)) {</span>
<span class="cstat-no" title="statement not covered" >      throw new TypeError('The shardId option must be a number.');</span>
    }
<span class="cstat-no" title="statement not covered" >    if (options.shardCount &lt; 0) <span class="cstat-no" title="statement not covered" >throw new RangeError('The shardCount option must be at least 0.');</span></span>
<span class="cstat-no" title="statement not covered" >    if (options.shardId &lt; 0) <span class="cstat-no" title="statement not covered" >throw new RangeError('The shardId option must be at least 0.');</span></span>
<span class="cstat-no" title="statement not covered" >    if (options.shardId !== 0 &amp;&amp; options.shardId &gt;= options.shardCount) {</span>
<span class="cstat-no" title="statement not covered" >      throw new RangeError('The shardId option must be less than shardCount.');</span>
    }
<span class="cstat-no" title="statement not covered" >    if (typeof options.messageCacheMaxSize !== 'number' || isNaN(options.messageCacheMaxSize)) {</span>
<span class="cstat-no" title="statement not covered" >      throw new TypeError('The messageCacheMaxSize option must be a number.');</span>
    }
<span class="cstat-no" title="statement not covered" >    if (typeof options.messageCacheLifetime !== 'number' || isNaN(options.messageCacheLifetime)) {</span>
<span class="cstat-no" title="statement not covered" >      throw new TypeError('The messageCacheLifetime option must be a number.');</span>
    }
<span class="cstat-no" title="statement not covered" >    if (typeof options.messageSweepInterval !== 'number' || isNaN(options.messageSweepInterval)) {</span>
<span class="cstat-no" title="statement not covered" >      throw new TypeError('The messageSweepInterval option must be a number.');</span>
    }
<span class="cstat-no" title="statement not covered" >    if (typeof options.fetchAllMembers !== 'boolean') {</span>
<span class="cstat-no" title="statement not covered" >      throw new TypeError('The fetchAllMembers option must be a boolean.');</span>
    }
<span class="cstat-no" title="statement not covered" >    if (typeof options.disableEveryone !== 'boolean') {</span>
<span class="cstat-no" title="statement not covered" >      throw new TypeError('The disableEveryone option must be a boolean.');</span>
    }
<span class="cstat-no" title="statement not covered" >    if (typeof options.restWsBridgeTimeout !== 'number' || isNaN(options.restWsBridgeTimeout)) {</span>
<span class="cstat-no" title="statement not covered" >      throw new TypeError('The restWsBridgeTimeout option must be a number.');</span>
    }
<span class="cstat-no" title="statement not covered" >    if (!(options.disabledEvents instanceof Array)) <span class="cstat-no" title="statement not covered" >throw new TypeError('The disabledEvents option must be an Array.');</span></span>
  }
}
&nbsp;
<span class="cstat-no" title="statement not covered" >module.exports = Client;</span>
&nbsp;
/**
 * Emitted for general warnings
 * @event Client#warn
 * @param {string} info The warning
 */
&nbsp;
/**
 * Emitted for general debugging information
 * @event Client#debug
 * @param {string} info The debug information
 */
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Sat Apr 22 2017 08:55:30 GMT+0000 (UTC)</div>
</div>
</body>
</html>
